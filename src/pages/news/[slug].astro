---
import { getCollection } from "astro:content";
import Layout from "../../layouts/Layout.astro";
import HeroDetail from "../../components/HeroDetail.astro";

export async function getStaticPaths() {
  const items = await getCollection("news");
  return items.map((item) => {
    let slug = item.id;
    return {
      params: {
        slug,
      },
      props: { item },
    };
  });
}

// const { slug } = Astro.params;
const { item } = Astro.props;
console.log("item", item);
---

<Layout>
  <HeroDetail item={item} />
  <div class="container">
    <p set:html={item.rendered?.html} />
  </div>
  <!-- <pre>{JSON.stringify(item,null,2)}</pre> -->
</Layout>
